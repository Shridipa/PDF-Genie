{% extends "base.html" %}
{% block title %}Set New Password | PDF Genie{% endblock %}

{% block content %}
<div class="d-flex justify-content-center align-items-center" style="min-height: 100vh; background: linear-gradient(135deg, #ede9fe, #f3e8ff);">
  <div class="shadow-lg rounded-4 px-5 py-4 border-0"
       style="max-width: 520px; width: 100%; background: rgba(255, 255, 255, 0.55); backdrop-filter: blur(12px);">

    <!-- Header -->
    <div class="text-center mb-4">
      <i class="bi bi-shield-lock-fill" style="font-size: 2.5rem; color: #7c3aed;"></i>
      <h4 class="fw-bold mt-3 mb-1" style="color: #6b21a8;">Set a New Password</h4>
      <p class="text-muted small mb-0">
        This portal was opened from your inbox â€” letâ€™s lock in a new enchanted password ðŸª„
      </p>
    </div>

    <!-- Optional Message -->
    <div class="alert alert-info text-center mt-3 rounded-3" role="alert">
      âœ… Spell confirmed! Set your new password and step back into Genieâ€™s realm.
    </div>

    <!-- Form -->
    <form method="POST" class="mt-4">
      <div class="mb-3">
        <label class="form-label fw-semibold text-dark">New Password</label>
        <div class="input-group">
          <input type="password" name="password" id="password"
                 class="form-control form-control-lg rounded-start-3 border-end-0"
                 placeholder="Enter new password" required>
          <span class="input-group-text bg-white border-start-0 rounded-end-3" style="cursor: pointer;">
            <i class="bi bi-eye-fill toggle-password" data-target="password"></i>
          </span>
        </div>
      </div>

      <div class="mb-3">
        <label class="form-label fw-semibold text-dark">Confirm Password</label>
        <div class="input-group">
          <input type="password" name="confirm_password" id="confirm_password"
                 class="form-control form-control-lg rounded-start-3 border-end-0"
                 placeholder="Confirm new password" required>
          <span class="input-group-text bg-white border-start-0 rounded-end-3" style="cursor: pointer;">
            <i class="bi bi-eye-fill toggle-password" data-target="confirm_password"></i>
          </span>
        </div>
      </div>

      <div class="d-grid mt-4">
        <button type="submit" class="btn btn-lg rounded-pill text-white fw-semibold"
                style="background: linear-gradient(135deg, #a78bfa, #7c3aed); box-shadow: 0 4px 18px rgba(124, 58, 237, 0.3);">
          <i class="bi bi-stars me-2"></i> Update & Unlock
        </button>
      </div>
    </form>

  </div>
</div>

<!-- Toggle Password Script -->
<script>
  document.querySelectorAll(".toggle-password").forEach(icon => {
    icon.addEventListener("click", () => {
      const target = document.getElementById(icon.dataset.target);
      const isPassword = target.type === "password";
      target.type = isPassword ? "text" : "password";
      icon.classList.toggle("bi-eye-fill");
      icon.classList.toggle("bi-eye-slash-fill");
    });
  });
</script>
{% endblock %}

